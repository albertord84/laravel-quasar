(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"1e04":function(e,t,s){"use strict";var o=s("4531"),r=s.n(o);r.a},2034:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));s("ac6a"),s("cadf"),s("06db"),s("456d");var o=s("bc3a"),r=s.n(o),a={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s="";return Object.keys(t).length&&(s="?",Object.keys(t).some((function(e,o){s=s+e+"="+t[e]+"&"}))),s=s.substr(0,s.length-1),r.a.get("".concat(e).concat(s))},post:function(e,t){return r.a.post("".concat(e),t)},update:function(e,t,s){return r.a.put("".concat(e,"/").concat(t),s)},put:function(e,t){return r.a.put("".concat(e),t)},delete:function(e){return r.a.delete(e)}}},"2d51":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row justify-left"},[e._m(0),s("q-separator",{staticClass:"col-12 q-pa-none q-ma-none"}),s("div",{staticClass:"col-6 q-px-xs q-mt-lg"},[s("span",[e._v("Nome completo (*)")]),s("q-input",{staticClass:"col-12 q-mt-sm",attrs:{filled:"",square:"","label-color":"orange-8",color:"orange-8"},model:{value:e.userModel.username,callback:function(t){e.$set(e.userModel,"username",t)},expression:"userModel.username"}})],1),s("div",{staticClass:"col-6 q-px-xs q-mt-lg"},[s("span",[e._v("Email (*)")]),s("q-input",{staticClass:"col-12 q-mt-sm",attrs:{filled:"",square:"","label-color":"orange-8",color:"orange-8"},model:{value:e.userModel.email,callback:function(t){e.$set(e.userModel,"email",t)},expression:"userModel.email"}})],1),s("div",{staticClass:"col-6 q-px-xs q-mt-lg"},[s("span",[e._v("Tipo de usuário (*) ")]),s("q-select",{staticClass:"col-12 q-mt-sm",attrs:{options:e.optionsUsersRoles,filled:"","label-color":"orange-8",color:"orange-8","hide-selected":"","fill-input":"","input-debounce":"0",label:"",clearable:"","use-input":""},on:{filter:e.filterFnAutoselectUsersRoles,"filter-abort":e.abortFilterFnUsersRoles},scopedSlots:e._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[e._v("\n              Tipo de usuários\n            ")])],1)]},proxy:!0}]),model:{value:e.selectedUserRole,callback:function(t){e.selectedUserRole=t},expression:"selectedUserRole"}})],1),s("div",{staticClass:"col-6 q-px-xs q-mt-lg"},[s("span",[e._v("Status do usuário (*) ")]),s("q-select",{staticClass:"col-12 q-mt-sm",attrs:{options:e.optionsUsersStatuses,filled:"","label-color":"orange-8",color:"orange-8","hide-selected":"","fill-input":"","input-debounce":"0",label:"",clearable:"","use-input":""},on:{filter:e.filterFnAutoselectUsersStatuses,"filter-abort":e.abortFilterFnUsersStatuses},scopedSlots:e._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[e._v("\n              Status do usuário\n            ")])],1)]},proxy:!0}]),model:{value:e.selectedUserStatus,callback:function(t){e.selectedUserStatus=t},expression:"selectedUserStatus"}})],1),s("div",{staticClass:"col-6 q-px-xs q-mt-lg"},[s("span",[e._v("Atribuir empresa (*) ")]),s("q-select",{staticClass:"col-12 q-mt-sm",attrs:{options:e.optionsCompanies,filled:"","label-color":"orange-8",color:"orange-8","hide-selected":"","fill-input":"","input-debounce":"0",label:"",clearable:"","use-input":""},on:{filter:e.filterFnAutoselectCompany,"filter-abort":e.abortFilterFnCompany},scopedSlots:e._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[e._v("\n              Empresas cadastradas\n            ")])],1)]},proxy:!0}]),model:{value:e.selectedUserCompany,callback:function(t){e.selectedUserCompany=t},expression:"selectedUserCompany"}})],1),s("div",{staticClass:"col-6 q-px-xs q-mt-lg"},[s("span",[e._v("Enviar email de cadastro? ")]),s("q-select",{staticClass:"col-6 q-mt-sm",attrs:{options:["Sim","Não"],filled:"","label-color":"orange-8",color:"orange-8","fill-input":"","input-debounce":"0",label:" "},model:{value:e.sendRegisterEmail,callback:function(t){e.sendRegisterEmail=t},expression:"sendRegisterEmail"}})],1),e._m(1),s("q-separator",{staticClass:"col-12 q-pa-none q-ma-none"}),s("div",{staticClass:"col-4 q-px-xs q-mt-lg"},[s("span",[e._v("CEP (*)")]),s("q-input",{staticClass:"col-12 q-mt-sm",attrs:{filled:"","label-color":"orange-8",color:"orange-8",placeholder:"Digite o CEP"},scopedSlots:e._u([{key:"append",fn:function(){return[e.isValidatingCEP?e._e():s("q-icon",{staticClass:"pointer-hover",attrs:{name:"search"},on:{click:function(t){return t.preventDefault(),e.getAddressByCEP(t)}}}),e.isValidatingCEP?s("q-spinner-pie",{attrs:{color:"orange"}}):e._e()]},proxy:!0}]),model:{value:e.addressModel.cep,callback:function(t){e.$set(e.addressModel,"cep",t)},expression:"addressModel.cep"}})],1),s("div",{staticClass:"col-8 q-px-xs q-mt-lg"},[s("span",[e._v("Rua (*)")]),s("q-input",{staticClass:"col-12 q-mt-sm",attrs:{filled:"",square:"","label-color":"orange-8",color:"orange-8"},model:{value:e.addressModel.street,callback:function(t){e.$set(e.addressModel,"street",t)},expression:"addressModel.street"}})],1),s("div",{staticClass:"col-2 q-px-xs q-mt-lg"},[s("span",[e._v("Número (*)")]),s("q-input",{staticClass:"col-12 q-mt-sm",attrs:{filled:"",square:"","label-color":"orange-8",color:"orange-8"},model:{value:e.addressModel.number,callback:function(t){e.$set(e.addressModel,"number",t)},expression:"addressModel.number"}})],1),s("div",{staticClass:"col-2 q-px-xs q-mt-lg"},[s("span",[e._v("Complemento")]),s("q-input",{staticClass:"col-12 q-mt-sm",attrs:{filled:"",square:"","label-color":"orange-8",color:"orange-8"},model:{value:e.addressModel.complement,callback:function(t){e.$set(e.addressModel,"complement",t)},expression:"addressModel.complement"}})],1),s("div",{staticClass:"col-3 q-px-xs q-mt-lg"},[s("span",[e._v("Bairro (*)")]),s("q-input",{staticClass:"col-12 q-mt-sm",attrs:{filled:"",square:"","label-color":"orange-8",color:"orange-8"},model:{value:e.addressModel.district,callback:function(t){e.$set(e.addressModel,"district",t)},expression:"addressModel.district"}})],1),s("div",{staticClass:"col-3 q-px-xs q-mt-lg"},[s("span",[e._v("Cidade (*)")]),s("q-input",{staticClass:"col-12 q-mt-sm",attrs:{filled:"",square:"","label-color":"orange-8",color:"orange-8"},model:{value:e.addressModel.city,callback:function(t){e.$set(e.addressModel,"city",t)},expression:"addressModel.city"}})],1),s("div",{staticClass:"col-2 q-px-xs q-mt-lg"},[s("span",[e._v("Estado (*)")]),s("q-select",{staticClass:"col-12 q-mt-sm",attrs:{options:e.optionsUF,filled:"","label-color":"orange-8",color:"orange-8","hide-selected":"","fill-input":"","input-debounce":"0",label:"",clearable:"","use-input":""},on:{filter:e.filterFnAutoselectUF,"filter-abort":e.abortFilterFnUF},scopedSlots:e._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[e._v("\n              Não existem administradores cadastrados\n            ")])],1)]},proxy:!0}]),model:{value:e.addressModel.uf,callback:function(t){e.$set(e.addressModel,"uf",t)},expression:"addressModel.uf"}})],1),s("div",{staticClass:"col-12 flex q-my-md justify-between"},[s("span",{staticClass:"q-mt-sm",staticStyle:{"font-size":"1.2rem"}},[e._v("Finalizar "+e._s("insert"===e.action?"criação":"edição")+" do usuário")])]),s("q-separator",{staticClass:"col-12 q-pa-none q-ma-none"}),s("div",{staticClass:"q-my-md"},[s("q-btn",{staticClass:"q-pa-sm q-mb-sm bg-orange-8",attrs:{"text-color":"white",loading:e.isCreatingUser,label:"Guardar usuário",title:"Guardar usuário",icon:"save"},on:{click:function(t){return t.preventDefault(),e.addUser(t)}},scopedSlots:e._u([{key:"loading",fn:function(){return[s("q-spinner")]},proxy:!0}])})],1)],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12 flex q-mt-xs justify-between"},[s("span",{staticClass:"q-mt-sm",staticStyle:{"font-size":"1.2rem"}},[e._v("Dados gerais")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12 flex q-mt-lg justify-between"},[s("span",{staticClass:"q-mt-sm",staticStyle:{"font-size":"1.2rem"}},[e._v("Endereço do usuário (Opcional)")])])}],a=(s("a481"),s("7f7f"),s("551c"),s("06db"),s("097d"),s("2034")),i=s("31f1"),n={name:"CrudUsers",props:{action:null,user:null},data:function(){return{userModel:{id:1,company_id:1,cost_center_id:1,address_id:1,role_id:1,status_id:1,username:"JoseRGM",email:"jgonzalez@id.uff.br",json_datas:""},addressModel:{id:0,cep:"",street:"",number:"",complement:"",district:"",city:"",uf:""},fileInputCSV:null,fileInputCSVFullPath:"",modalHelpCSVFile:!1,selectedUserRole:"",selectedUserRol:{},listUserRole:[],stringOptionsUserRol:[],optionsUsersRoles:[],selectedUserStatus:"",selectedUserStatu:{},listUserStatu:[],stringOptionsUserStatu:[],optionsUsersStatuses:[],selectedUserCompany:"",selectedCompany:{},listCompanies:[],stringOptionsCompanies:[],optionsCompanies:[],stringOptionsUF:["AC","AL","AP","AM","BA","CE","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO","DF"],optionsUF:[],isValidatingCEP:!1,userLoggued:{role_id:1},isCreatingUser:!1,sendRegisterEmail:"Não"}},methods:{addUser:function(){var e=this;this.validateUserModel()&&!this.isCreatingUser&&(""===this.addressModel.cep.trim()||this.validateAddressModel())&&(this.isCreatingUser=!0,a["a"].put("web/criateFullUser",{userModel:this.userModel,addressModel:this.addressModel,sendRegisterEmail:this.sendRegisterEmail}).then((function(t){e.isCreatingUser=!1,e.$q.notify({type:"positive",color:"teal-3",message:"Usuário criada com sucesso.",position:"top-right"}),e.$emit("reloadUsers")})).catch((function(t){e.$q.notify({type:"negative",message:"Erro criando usuário.",position:"top-right"}),e.isCreatingUser=!1,console.log(t)})).finally((function(){e.isCreatingUser=!1})))},prepareToUpdateUser:function(){},updateUser:function(){},getUsersRoles:function(){var e=this;a["a"].get("web/usersRoles").then((function(t){e.stringOptionsUserRol=[],t.data.some((function(t,s){e.stringOptionsUserRol.push(t.name)})),e.listUserRole=t.data})).catch((function(e){})).then((function(){}))},getUsersStatus:function(){var e=this;a["a"].get("web/usersStatuses").then((function(t){e.stringOptionsUserStatu=[],t.data.some((function(t,s){e.stringOptionsUserStatu.push(t.name)})),e.listUserStatu=t.data})).catch((function(e){})).then((function(){}))},getCompanies:function(){var e=this;a["a"].get("web/companies").then((function(t){e.stringOptionsCompanies=[],t.data.some((function(t,s){e.stringOptionsCompanies.push(t.fantasy_name)})),e.listCompanies=t.data})).catch((function(e){})).then((function(){}))},selectUserRoleByName:function(e){if(""===e.trim())return null;var t=null;return this.listUserRole.some((function(s,o){s.name===e&&(t=s)})),t},selectedUserStatuByName:function(e){if(""===e.trim())return null;var t=null;return this.listUserStatu.some((function(s,o){s.name===e&&(t=s)})),t},selectedCompanyByName:function(e){if(""===e.trim())return null;var t=null;return this.listCompanies.some((function(s,o){s.fantasy_name===e&&(t=s)})),t},filterFnAutoselectUsersRoles:function(e,t,s){var o=this;setTimeout((function(){t((function(){if(""===e)o.optionsUsersRoles=o.stringOptionsUserRol;else{var t=e.toLowerCase();o.optionsUsersRoles=o.stringOptionsUserRol.filter((function(e){return e.toLowerCase().indexOf(t)>-1}))}}),(function(t){""!==e&&t.options.length>0&&-1===t.optionIndex&&(t.moveOptionSelection(1,!0),t.toggleOption(t.options[t.optionIndex],!0))}))}),300)},abortFilterFnUsersRoles:function(){this.selectedUserRole=""},filterFnAutoselectUsersStatuses:function(e,t,s){var o=this;setTimeout((function(){t((function(){if(""===e)o.optionsUsersStatuses=o.stringOptionsUserStatu;else{var t=e.toLowerCase();o.optionsUsersStatuses=o.stringOptionsUserStatu.filter((function(e){return e.toLowerCase().indexOf(t)>-1}))}}),(function(t){""!==e&&t.options.length>0&&-1===t.optionIndex&&(t.moveOptionSelection(1,!0),t.toggleOption(t.options[t.optionIndex],!0))}))}),300)},abortFilterFnUsersStatuses:function(){this.selectedUserStatus=""},filterFnAutoselectCompany:function(e,t,s){var o=this;setTimeout((function(){t((function(){if(""===e)o.optionsCompanies=o.stringOptionsCompanies;else{var t=e.toLowerCase();o.optionsCompanies=o.stringOptionsCompanies.filter((function(e){return e.toLowerCase().indexOf(t)>-1}))}}),(function(t){""!==e&&t.options.length>0&&-1===t.optionIndex&&(t.moveOptionSelection(1,!0),t.toggleOption(t.options[t.optionIndex],!0))}))}),300)},abortFilterFnCompany:function(){this.selectedUserCompany=""},filterFnAutoselectUF:function(e,t,s){var o=this;setTimeout((function(){t((function(){if(""===e)o.optionsUF=o.stringOptionsUF;else{var t=e.toLowerCase();o.optionsUF=o.stringOptionsUF.filter((function(e){return e.toLowerCase().indexOf(t)>-1}))}}),(function(t){""!==e&&t.options.length>0&&-1===t.optionIndex&&(t.moveOptionSelection(1,!0),t.toggleOption(t.options[t.optionIndex],!0))}))}),300)},abortFilterFnUF:function(){this.addressModel.uf=""},getAddressByCEP:function(){var e=this;if(""===this.addressModel.cep.trim())return this.$q.notify({type:"warning",message:"O campo CEP não pode ser vazio.",position:"top-right"}),void(this.isValidatingCEP=!1);this.isValidatingCEP=!0,this.addressModel.cep=this.addressModel.cep.trim();var t=this.addressModel.cep.trim().replace(/-/i,"");a["a"].get("web/getAddressByCEP/"+t).then((function(t){t.data.erro&&!0===t.data.erro?e.$q.notify({type:"warning",message:"O CEP inserido não existe.",position:"top-right"}):(e.addressModel.cep=t.data.cep.replace(/-/i,""),e.addressModel.street=t.data.logradouro,e.addressModel.district=t.data.bairro,e.addressModel.city=t.data.localidade,e.addressModel.uf=t.data.uf)})).catch((function(t){e.$q.notify({type:"negative",message:"O CEP inserido não existe.",position:"top-right"}),console.log(t)})).finally((function(){e.isValidatingCEP=!1}))},validateUserModel:function(){var e;return""===this.userModel.username.trim()?(this.$q.notify({type:"negative",message:"O campo Nome completo é obrigatório.",position:"top-right"}),!1):""===this.userModel.email.trim()?(this.$q.notify({type:"negative",message:"O campo Email é obrigatório.",position:"top-right"}),!1):(e=i["a"].check("email",this.userModel.email),!1===e.success?(this.$q.notify({type:"negative",message:"O email informado é inválido.",position:"top-right"}),!1):(this.selectedUserRol=this.selectUserRoleByName(this.selectedUserRole),this.selectedUserRol?(this.userModel.origin_id=this.selectedUserRol.id,this.selectedUserStatu=this.selectedUserStatuByName(this.selectedUserStatus),this.selectedUserStatu?(this.userModel.status_id=this.selectedUserStatu.id,this.selectedCompany=this.selectedCompanyByName(this.selectedUserCompany),this.selectedCompany?(this.userModel.company_id=this.selectedCompany.id,!0):(this.$q.notify({type:"negative",message:"O campo Atribuir empresa é obrigatório.",position:"top-right"}),!1)):(this.$q.notify({type:"negative",message:"O campo Status do usuário é obrigatório.",position:"top-right"}),!1)):(this.$q.notify({type:"negative",message:"O campo Tipo de usuário é obrigatório.",position:"top-right"}),!1)))},validateAddressModel:function(){var e;return""===this.addressModel.cep.trim()?(this.$q.notify({type:"negative",message:"O campo CEP é obrigatório.",position:"top-right"}),!1):(e=i["a"].check("cep",this.addressModel.cep),!1===e.success?(this.$q.notify({type:"negative",message:"O CEP informado é inválido.",position:"top-right"}),!1):""===this.addressModel.street.trim()?(this.$q.notify({type:"negative",message:"O campo Rúa é obrigatório.",position:"top-right"}),!1):""===this.addressModel.number.trim()?(this.$q.notify({type:"negative",message:"O campo Número é obrigatório.",position:"top-right"}),!1):""===this.addressModel.district.trim()?(this.$q.notify({type:"negative",message:"O campo Bairro é obrigatório.",position:"top-right"}),!1):""===this.addressModel.city.trim()?(this.$q.notify({type:"negative",message:"O campo Cidade é obrigatório.",position:"top-right"}),!1):""!==this.addressModel.uf.trim()||(this.$q.notify({type:"negative",message:"O campo Estado é obrigatório.",position:"top-right"}),!1))}},watch:{},beforeMount:function(){this.getUsersRoles(),this.getUsersStatus(),this.getCompanies(),this.userLoggued.role_id=1},mounted:function(){}},l=n,c=(s("aaac"),s("2877")),d=Object(c["a"])(l,o,r,!1,null,"5df23ce6",null);t["default"]=d.exports},"31f1":function(e,t,s){"use strict";s("a481"),s("4917");var o={complete_name:{regexp:"^[a-z A-Z0-9çÇáÁéÉíÍóÓúÚàÀèÈìÌòÒùÙãÃõÕâÂêÊôÔûÛñ._-]{2,150}$",error:"Confira a escrita do nome"},cpf:{regexp:"^[0-9]{3}[.]?[0-9]{3}[.]?[0-9]{3}[-]?[0-9]{2}$",error:"CPF inválido"},cnpj:{regexp:"^([0-9]{2}[.]?[0-9]{3}[.]?[0-9]{3}[/]?[0-9]{4}[-]?[0-9]{2})$",error:"CNPJ inválido"},cep:{regexp:"^([0-9]{5}[-]?[0-9]{3})|([0-9]{8})$",error:"CEP inválido"},email:{regexp:"^[a-zA-Z0-9._-]+@([a-zA-Z0-9-]{2,}[.])*[a-zA-Z]{2,}$",error:"Email inválido"},phone:{regexp:"^([0-9]{2} [0-9]{2}[0-9][0-9]{7})|([0-9]{2} [0-9]{2}[0-9][0-9]{8})|([0-9]{2}[0-9]{2}[0-9][0-9]{7})|([0-9]{2}[0-9]{2}[0-9][0-9]{8})|([0-9]{2}[0-9]{13})|([0-9]{2}[0-9]{12})|([0-9]{2}[0-9]{9})$",error:"Número de telefone inválido. Confira se o número inserido corresponde a um telefone fixo e que o DDD seja válido"},whatsapp:{regexp:"^([0-9]{2} [0-9]{2}[0-9][0-9]{7})|([0-9]{2} [0-9]{2}[0-9][0-9]{8})|([0-9]{2}[0-9]{2}[0-9][0-9]{7})|([0-9]{2}[0-9]{2}[0-9][0-9]{8})|([0-9]{2}[0-9]{13})|([0-9]{2}[0-9]{12})|([0-9]{2}[0-9]{9})$",error:"Número de whatsapp inválido. Confira o número inserido."},date:{regexp:"^(0[1-9]|[12][0-9]|3[01])/(0[1-9]|1[012])/[12][0-9]{3}$",error:"Data inválida"},date2:{regexp:"^[12][0-9]{3}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]) ([0][0-9]|[12345][0-9]):([0][0-9]|[12345][0-9])$",error:"Data inválida 2"},mac:{regexp:"^(([0-9a-f]{2}):){5}([0-9a-f]{2})$",error:"Endereço MAC inválido"},tunnel:{regexp:"^[a-z A-Z0-9áÁéÉíÍóÓúÚàÀèÈìÌòÒùÙãÃõÕâÂêÊôÔûÛñ._]{2,150}$",error:"Endereço MAC inválido"},user:{regexp:"^[a-z A-Z0-9çÇáÁéÉíÍóÓúÚàÀèÈìÌòÒùÙãÃõÕâÂêÊôÔûÛñ._]{1,100}$",error:"Usuario inválido"},password:{regexp:"^[a-zA-Z0-9.,/ çÇáÁéÉíÍóÓúÚàÀèÈìÌòÒùÙãÃõÕâÂêÊôÔûÛñ_-]{4,15}$",error:"Insira uma senha de entre 4 e 15 carateres, contendo letras e números"},linkedin_profile:{regexp:"^[a-zA-Z0-9._]{1,300}$",error:"Perfil de Linkedin provavelmente inválido"},facebook_profile:{regexp:"^[a-zA-Z0-9._]{1,300}$",error:"Perfil de Facebook provavelmente inválido"},instagram_profile:{regexp:"^[a-zA-Z0-9._]{1,300}$",error:"Perfil de Instagram provavelmente inválido"},instagram_geolocation:{regexp:"^[a-zA-Z-0-9._áéíóúàèìòùâêîôûãõẽçÇ]{1,300}$",error:""},instagram_hashtag:{regexp:"^[a-zA-Z0-9._áéíóúàèìòùâêîôûãõẽçÇ]{1,300}$",error:""},email_verification_code:{regexp:"^[0-9]{4}$",error:""},credit_card_cvv:{regexp:"^[0-9]{3,4}$",error:""},credit_card_month:{regexp:"^[0-10-9]{2,2}$",error:""},credit_card_year:{regexp:"^[2-20-01-20-9]{4,4}$",error:""},credit_card_name:{regexp:"^[A-Z ]{4,50}$",error:""},credit_card_visa:{regexp:"^(?:4[0-9]{12}(?:[0-9]{3})?)$",error:""},credit_card_mastercard:{regexp:"^(?:5[1-5][0-9]{14})$",error:""},credit_card_americanexprex:{regexp:"^(?:3[47][0-9]{13})$",error:""},credit_card_discover:{regexp:"^(?:6(?:011|5[0-9][0-9])[0-9]{12})$",error:""},credit_card_:{regexp:"^(?:3(?:0[0-5]|[68][0-9])[0-9]{11})$",error:""},credit_card_elo:{regexp:"^(?:((((636368)|(438935)|(504175)|(451416)|(636297))[0-9]{0,10})|((5067)|(4576)|(4011))[0-9]{0,12}))$",error:""},credit_card_hypercard:{regexp:"^(?:(606282[0-9]{10}([0-9]{3})?)|(3841[0-9]{15}))$",error:""},ticket_bank_client_name:{regexp:"^[A-Za-z ]{4,50}$",error:""},street_address:{regexp:"^[a-zA-Z0-9.,/ çÇáÁéÉíÍóÓúÚàÀèÈìÌòÒùÙãÃõÕâÂêÊôÔûÛñ_-]{1,80}$",error:"Confira o nome da rua do endereço fornecido"},complement_address:{regexp:"^[a-zA-Z0-9.,/ çÇáÁéÉíÍóÓúÚàÀèÈìÌòÒùÙãÃõÕâÂêÊôÔûÛñ_-]{2,80}$",error:"Confira o complemento do endereço fornecido"},neighborhood_address:{regexp:"^[a-zA-Z0-9.,/ çÇáÁéÉíÍóÓúÚàÀèÈìÌòÒùÙãÃõÕâÂêÊôÔûÛñ_-]{2,80}$",error:"Confira o nome do bairro do endereço fornecido"},municipality_address:{regexp:"^[a-zA-Z0-9.,/ çÇáÁéÉíÍóÓúÚàÀèÈìÌòÒùÙãÃõÕâÂêÊôÔûÛñ_-]{2,80}$",error:"Confira o nome da cidade do endereço fornecido"},state_address:{regexp:"^[A-Z]{2}$",error:"Confira que o estado do endereço fornecido esteje correto"},house_number:{regexp:"^[0-9]{1,7}$",error:"O número do endereço pode estar errado"},"":{regexp:"",error:""}},r={check:function(e,t){var s={success:!1,error:o[e].error};return t.match(o[e].regexp)&&(s.success=!0,s.error=""),s},checkCPF:function(e,t){var s={success:!1,error:o[e].error};return s.success=!0,s.error="",s},validate_cpf:function(e,t){var s={success:!1,error:o[e].error};if(t.match(o[e].regexp)){if(t=t.replace(/[^\d]+/g,""),""===t)return s;if(11!==t.length||"00000000000"===t||"11111111111"===t||"22222222222"===t||"33333333333"===t||"44444444444"===t||"55555555555"===t||"66666666666"===t||"77777777777"===t||"88888888888"===t||"99999999999"===t)return s;for(var r=0,a=0;a<9;a++)r+=parseInt(t.charAt(a))*(10-a);var i=11-r%11;if(10!==i&&11!==i||(i=0),i!==parseInt(t.charAt(9)))return s;for(r=0,a=0;a<10;a++)r+=parseInt(t.charAt(a))*(11-a);return i=11-r%11,10!==i&&11!==i||(i=0),i!==parseInt(t.charAt(10))?s:(s.success=!0,s.error="",s)}return s}};t["a"]=r},4531:function(e,t,s){},"8f11":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row justify-left"},[s("div",{staticStyle:{width:"100%"}},[s("q-table",{attrs:{title:" ",data:e.data,columns:e.columns,"row-key":"id","binary-state-sort":"","card-container-style":{backgroundColor:"#ff0000"},dense:e.$q.screen.lt.md,loading:e.isLoading,pagination:e.pagination,"rows-per-page-options":[0]},scopedSlots:e._u([{key:"top",fn:function(){return[s("div",{staticClass:"col-4"},[s("q-input",{attrs:{"label-color":"orange-8",color:"orange-8",placeholder:"Buscar ..."},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),s("div",{staticClass:"col-4 text-center"},[s("q-btn",{staticClass:"q-ml-lg",attrs:{flat:"",dense:"","icon-right":"navigate_before",title:"Página anterior","no-caps":"",disable:0==e.page},on:{click:function(t){return e.getUsers(e.page-1)}}}),s("q-btn",{staticClass:"q-px-sm ",attrs:{flat:"",dense:"",title:"Página atual","no-caps":""}},[e.isLoading?e._e():s("span",{attrs:{color:"orange"}},[e._v(e._s(e.page+1))]),e.isLoading?s("q-spinner-pie",{attrs:{color:"orange"}}):e._e()],1),s("q-btn",{attrs:{flat:"",dense:"","icon-right":"navigate_next",title:"Página seguinte","no-caps":"",disable:!e.hasMorePage},on:{click:function(t){return e.getUsers(e.page+1)}}})],1),s("div",{staticClass:"col-4 text-right"},[s("q-btn",{attrs:{color:"orange-8","icon-right":"archive",label:"Exportar",title:"Exportar para CSV","no-caps":""},on:{click:e.exportTable}})],1)]},proxy:!0},{key:"body",fn:function(t){return[s("q-tr",{attrs:{props:t}},[s("q-td",{key:"email",staticClass:"q-pa-none q-ma-none",attrs:{props:t}},[e._v("\n              "+e._s(t.row.email)+"\n            ")]),s("q-td",{key:"statusName",staticClass:"q-pa-none q-ma-none",attrs:{props:t}},[e._v("\n                "+e._s(t.row.statusName)+"\n            ")]),s("q-td",{key:"company_id",staticClass:"q-pa-none q-ma-none",attrs:{props:t}},[e._v("\n                "+e._s(t.row.company_id)+"\n            ")]),s("q-td",{key:"cost_center_id",staticClass:"q-pa-none q-ma-none",attrs:{props:t}},[e._v("\n                "+e._s(t.row.cost_center_id)+"\n            ")]),s("q-td",{key:"address_id",staticClass:"q-pa-none q-ma-none",attrs:{props:t}},[e._v("\n                "+e._s(t.row.address_id)+"\n            ")]),s("q-td",{key:"role_id",staticClass:"q-pa-none q-ma-none",attrs:{props:t}},[e._v("\n                "+e._s(t.row.role_id)+"\n            ")]),s("q-td",{key:"created_at",staticClass:"q-pa-none q-ma-none",attrs:{props:t}},[e._v("\n              "+e._s(t.row.created_at.substr(0,10))+"\n            ")]),s("q-td",{key:"actions",staticClass:"q-pa-none q-ma-none",attrs:{props:t}},[s("div",{staticStyle:{"margin-left":"-3px"}},[s("q-icon",{staticClass:"pointer-hover q-mr-sm",attrs:{color:"primary",size:"sm",title:"Ver/Editar",name:"account_balance_wallet"},on:{click:function(s){return e.editUser(t.row)}}}),s("q-icon",{staticClass:"pointer-hover",attrs:{color:"red",size:"sm",name:"delete",title:"Eliminar"},on:{click:function(s){return e.confirmDeleteUser(t.row)}}})],1)])],1)]}},{key:"bottom",fn:function(){return[s("div",{staticClass:"col-12 text-center q-mt-md"},[s("q-btn",{staticClass:"q-ml-lg",attrs:{flat:"",dense:"","icon-right":"navigate_before",title:"Página anterior","no-caps":"",disable:0==e.page},on:{click:function(t){return e.getUsers(e.page-1)}}}),s("q-btn",{staticClass:"q-px-sm ",attrs:{flat:"",dense:"",title:"Página atual","no-caps":""}},[e._v("\n            "+e._s(e.page+1)+"\n          ")]),s("q-btn",{attrs:{flat:"",dense:"","icon-right":"navigate_next",title:"Página seguinte","no-caps":"",disable:!e.hasMorePage},on:{click:function(t){return e.getUsers(e.page+1)}}})],1)]},proxy:!0},{key:"pagination",fn:function(){},proxy:!0},{key:"no-data",fn:function(t){var o=t.icon,r=(t.message,t.filter);return[s("div",{staticClass:"full-width row flex-center text-accent q-gutter-sm"},[s("q-icon",{attrs:{size:"2em",name:"sentiment_dissatisfied"}}),s("span",[e._v("\n            Não existem dados para mostrar...\n          ")]),s("q-icon",{attrs:{size:"2em",name:r?"filter_b_and_w":o}})],1)]}}])}),s("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:e.modalConfirmDelete,callback:function(t){e.modalConfirmDelete=t},expression:"modalConfirmDelete"}},[s("q-card",[s("q-card-section",{staticClass:"row items-center"},[s("q-icon",{staticClass:"text-red",staticStyle:{"font-size":"1.9rem"},attrs:{name:"warning"}}),e.user?s("span",{staticClass:"q-ml-sm"},[e._v('Confirma que deseja eliminar o usuário "'+e._s(e.user.username)+'"?')]):e._e()],1),s("q-card-section",{directives:[{name:"show",rawName:"v-show",value:e.isDeleting,expression:"isDeleting"}],staticClass:"text-center"},[s("q-spinner-ios",{attrs:{color:"orange-8",size:"1.9rem"}})],1),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",label:"Eliminar",color:"orange-8"},on:{click:function(t){return t.preventDefault(),e.deleteUser(t)}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"gray"}})],1)],1)],1)],1)])},r=[],a=(s("7f7f"),s("ac6a"),s("cadf"),s("06db"),s("8615"),s("28a5"),s("2034")),i=s("b178");function n(e,t){var s=void 0!==t?t(e):e;return s=void 0===s||null===s?"":String(s),s=s.split('"').join('""'),'"'.concat(s,'"')}var l={name:"TableUsers",props:{},components:{},data:function(){return{user:null,action:"",data:[],columns:[{label:"Email",field:"email",name:"email",required:!0,align:"left",format:function(e){return"".concat(e)},sortable:!0},{label:"Status",field:"statusName",name:"statusName",align:"center"},{label:"Empresa",field:"company_id",name:"company_id",align:"center"},{label:"Endereço",field:"address_id",name:"address_id",align:"center"},{label:"Role",field:"role_id",name:"role_id",align:"center"},{label:"Criação",field:"created_at",name:"created_at",align:"center"},{label:"Ações",field:"actions",name:"actions",align:"center"}],filter:"",isLoading:!1,page:0,hasMorePage:!1,strFilter:0,pagination:{rowsPerPage:0},modalConfirmDelete:!1,isDeleting:!1,usersStatuses:[]}},methods:{getUsers:function(e){var t=this;this.isLoading=!0,a["a"].get("web/users",{filter:this.filter,page:e}).then((function(s){s.data.some((function(e,s){e.statusName=t.usersStatuses[e.status_id]}));var o=Object.values(s.data);t.data=o,t.page=e,t.hasMorePage=o.length})).catch((function(e){})).then((function(){t.isLoading=!1}))},getUsersStatuses:function(){var e=this;this.loader=!0,a["a"].get("web/usersStatuses").then((function(t){e.usersStatuses=[],t.data.some((function(t,s){e.usersStatuses[s+1]=t.name}))})).catch((function(e){})).then((function(){e.loader=!1}))},editUser:function(e){this.$emit("editUser",e)},deleteUser:function(){var e=this;this.user&&(this.isDeleting=!0,a["a"].delete("web/users/"+this.user.id).then((function(t){e.modalConfirmDelete=!1,e.$q.notify({type:"positive",message:"Usuário eliminado com sucesso.",position:"top-right"}),e.getUsers(e.page)})).catch((function(e){})).then((function(){e.isDeleting=!1})))},confirmDeleteUser:function(e){this.user=e,this.modalConfirmDelete=!0},exportTable:function(){var e=this,t=[this.columns.map((function(e){return n(e.label)}))].concat(this.data.map((function(t){return e.columns.map((function(e){return n("function"===typeof e.field?e.field(t):t[void 0===e.field?e.name:e.field],e.format)})).join(",")}))).join("\r\n"),s=Object(i["h"])("table-export.csv",t,"text/csv");!0!==s&&this.$q.notify({message:"Download do arquivo negado pelo navegador...",color:"negative",icon:"warning"})}},watch:{filter:function(e){this.getUsers(0)}},beforeMount:function(){this.getUsersStatuses(),this.getUsers(0)}},c=l,d=(s("c504"),s("2877")),u=Object(d["a"])(c,o,r,!1,null,"1dd83de8",null);t["default"]=u.exports},a1dc:function(e,t,s){},aa1b:function(e,t,s){},aaac:function(e,t,s){"use strict";var o=s("a1dc"),r=s.n(o);r.a},c504:function(e,t,s){"use strict";var o=s("aa1b"),r=s.n(o);r.a},f18b:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"bg-gray q-pa-md"},[s("div",{staticClass:"flex justify-between"},[s("h6",[e._v("Usuários")])]),s("q-card",{attrs:{"no-bordered":"",flat:""}},[s("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"orange-10","indicator-color":"orange-10",align:"left",caps:"","inline-label":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("q-tab",{staticClass:"text-dark",attrs:{name:"showUsers",icon:"horizontal_split",label:"Usuários"},on:{click:e.showTabUsers}}),s("q-tab",{staticClass:"text-dark",attrs:{name:"crudUsers",icon:e.iconActionUsers,label:e.crudTabTitle}})],1),s("q-separator"),s("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[s("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"showUsers"}},[s("TableUsers",{on:{editUser:e.editUser}})],1),s("q-tab-panel",{attrs:{name:"crudUsers"}},[s("CrudUsers",{attrs:{action:e.action,user:e.user},on:{reloadUsers:e.reloadUsers}})],1)],1)],1)],1)},r=[],a=(s("a481"),s("f751"),{name:"GerenciateUsers",components:{CrudUsers:s("2d51").default,TableUsers:s("8f11").default},data:function(){return{tab:"",user:{},crudTabTitle:"",action:"",iconActionUsers:""}},methods:{showTabUsers:function(){this.user={},this.crudTabTitle="Novo usuário",this.action="insert",this.iconActionUsers="add",this.tab="showUsers"},editUser:function(e){this.user=Object.assign({},e),this.crudTabTitle="Editar usuário",this.action="edit",this.iconActionUsers="edit",this.tab="crudUsers"},reloadUsers:function(){this.showTabUsers()}},watch:{},computed:{},beforeMount:function(){this.showTabUsers()},created:function(){},destroyed:function(){},beforeRouteEnter:function(e,t,s){s((function(e){e.isAuth&&e.$router.replace({name:"public.index"})}))},meta:function(){return{title:"Usuários"}}}),i=a,n=(s("1e04"),s("2877")),l=Object(n["a"])(i,o,r,!1,null,"2d470199",null);t["default"]=l.exports}}]);